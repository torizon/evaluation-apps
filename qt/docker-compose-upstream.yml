services:
  app:
    depends_on:
    - weston
    device_cgroup_rules:
    - c 4:0 rmw
    - c 4:7 rmw
    - c 13:* rmw
    - c 199:* rmw
    - c 226:* rmw
    image: allanktoradex/cppqmltemplate-upstream@sha256:9f5f2168805905b2d3a2d1b42bbc631ac3cfefb5a67995105e1884ff809e2d14
    platform: linux/arm/v7
    restart: unless-stopped
    volumes:
    - source: /tmp
      target: /tmp
      type: bind
    - source: /dev
      target: /dev
      type: bind
  weston:
    cap_add:
    - CAP_SYS_TTY_CONFIG
    command:
    - /usr/bin/entry.sh --tty=/dev/tty7 --developer
    device_cgroup_rules:
    - c 4:* rmw
    - c 13:* rmw
    - c 226:* rmw
    entrypoint:
    - /bin/sh
    - -c
    image: torizon/weston@sha256:2edb0354e0c26db992d095db71ff8b1d4ff3879f1bc0e19d534062f48ce05684
    network_mode: host
    platform: linux/arm/v7
    restart: unless-stopped
    volumes:
    - source: /tmp
      target: /tmp
      type: bind
    - source: /dev
      target: /dev
      type: bind
    - source: /run/udev
      target: /run/udev
      type: bind
version: '3.9'
